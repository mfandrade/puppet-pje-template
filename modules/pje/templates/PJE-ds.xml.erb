<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE datasources
    PUBLIC "-//JBoss//DTD JBOSS JCA Config 1.5//EN"
    "http://www.jboss.org/j2ee/dtd/jboss-ds_1_5.dtd">

<datasources>

    <xa-datasource>
        <jndi-name>PJE_DESCANSO_DS</jndi-name>
        <xa-datasource-class>org.postgresql.xa.PGXADataSource</xa-datasource-class>
        <xa-datasource-property name="ServerName"><%= @_ds_servername %></xa-datasource-property>
        <xa-datasource-property name="PortNumber"><%= @_ds_portnumber %></xa-datasource-property>
        <xa-datasource-property name="DatabaseName"><%= @_ds_databasename %></xa-datasource-property>
        <user-name><%= @_ds_username_pje %></user-name>
        <password><%= @_ds_password_pje %></password>
        <min-pool-size><%= @_ds_minpoolsize_pje %></min-pool-size>
        <max-pool-size><%= @_ds_maxpoolsize_pje %></max-pool-size>
        <prepared-statement-cache-size>10</prepared-statement-cache-size>
        <shared-prepared-statements>true</shared-prepared-statements>
        <track-connection-by-tx />
        <metadata>
            <type-mapping>PostgreSQL 8.0</type-mapping>
        </metadata>
        <validate-on-match>true</validate-on-match>
        <valid-connection-checker-class-name>org.jboss.resource.adapter.jdbc.vendor.PostgreSQLValidConnectionChecker</valid-connection-checker-class-name>
    </xa-datasource>
  
    <xa-datasource>
        <jndi-name>PJE_DESCANSO_BIN_DS</jndi-name>
        <xa-datasource-class>org.postgresql.xa.PGXADataSource</xa-datasource-class>
        <xa-datasource-property name="ServerName"><%= @_ds_servername %></xa-datasource-property>
        <xa-datasource-property name="PortNumber"><%= @_ds_portnumber %></xa-datasource-property>
        <xa-datasource-property name="DatabaseName"><%= @ds_databasename %>_bin</xa-datasource-property>
        <user-name><%= @_ds_username_pje %></user-name>
        <password><%= @_ds_password_pje %></password>
        <min-pool-size><%= @_ds_minpoolsize_pje %></min-pool-size>
        <max-pool-size><%= @_ds_maxpoolsize_pje %></max-pool-size>
        <prepared-statement-cache-size>10</prepared-statement-cache-size>
        <shared-prepared-statements>true</shared-prepared-statements>
        <track-connection-by-tx />
        <metadata>
            <type-mapping>PostgreSQL 8.0</type-mapping>
        </metadata>
        <validate-on-match>true</validate-on-match>
        <valid-connection-checker-class-name>org.jboss.resource.adapter.jdbc.vendor.PostgreSQLValidConnectionChecker</valid-connection-checker-class-name>
    </xa-datasource>

    <xa-datasource>
        <jndi-name>PJE_DESCANSO_LOG_DS</jndi-name> 
        <xa-datasource-class>org.postgresql.xa.PGXADataSource</xa-datasource-class>
        <xa-datasource-property name="ServerName"><%= @_ds_servername %></xa-datasource-property>
        <xa-datasource-property name="PortNumber"><%= @_ds_portnumber %></xa-datasource-property>
        <xa-datasource-property name="DatabaseName"><%= @ds_databasename %>_log</xa-datasource-property>
        <user-name><%= @_ds_username_pje %></user-name>
        <password><%= @_ds_password_pje %></password>
        <min-pool-size><%= @_ds_minpoolsize_pje %></min-pool-size>
        <max-pool-size><%= @_ds_maxpoolsize_pje %></max-pool-size>
        <metadata>
            <type-mapping>PostgreSQL 8.0</type-mapping>
        </metadata>
        <validate-on-match>true</validate-on-match>
        <valid-connection-checker-class-name>org.jboss.resource.adapter.jdbc.vendor.PostgreSQLValidConnectionChecker</valid-connection-checker-class-name>
    </xa-datasource>

    <xa-datasource>
        <jndi-name>PJE_DESCANSO_QUARTZ_DS</jndi-name> 
        <xa-datasource-class>org.postgresql.xa.PGXADataSource</xa-datasource-class>
        <xa-datasource-property name="ServerName"><%= @_ds_servername %></xa-datasource-property>
        <xa-datasource-property name="PortNumber"><%= @_ds_portnumber %></xa-datasource-property>
        <xa-datasource-property name="DatabaseName"><%= @ds_databasename %></xa-datasource-property>
        <user-name><%= @_ds_username_pje %></user-name>
        <password><%= @_ds_password_pje %></password>
        <min-pool-size><%= @_ds_minpoolsize_pje %></min-pool-size>
        <max-pool-size><%= @_ds_maxpoolsize_pje %></max-pool-size>
        <metadata>
            <type-mapping>PostgreSQL 8.0</type-mapping>
        </metadata>
        <validate-on-match>true</validate-on-match>
        <valid-connection-checker-class-name>org.jboss.resource.adapter.jdbc.vendor.PostgreSQLValidConnectionChecker</valid-connection-checker-class-name>
    </xa-datasource>

    <no-tx-datasource>
        <jndi-name>PJE_DESCANSO_BASE_REPLICADA_DS</jndi-name>
        <connection-url>jdbc:postgresql://<%= @_ds_servername %>:<%= @_ds_portnumber %>/<%= @ds_databasename %></connection-url>
        <driver-class>org.postgresql.Driver</driver-class>
        <user-name><%= @_ds_username_pje %></user-name>
        <password><%= @_ds_password_pje %></password>
        <min-pool-size><%= @_ds_minpoolsize_pje %></min-pool-size>
        <max-pool-size><%= @_ds_maxpoolsize_pje %></max-pool-size>
        <metadata>
            <type-mapping>PostgreSQL 8.0</type-mapping>
        </metadata>
    </no-tx-datasource>

    <no-tx-datasource>
        <jndi-name>PJE_DESCANSO_BASE_REPLICADA_BIN_DS</jndi-name>
        <connection-url>jdbc:postgresql://<%= @_ds_servername %>:<%= @_ds_portnumber %>/<%= @ds_databasename %>_bin</connection-url>
        <driver-class>org.postgresql.Driver</driver-class>
        <user-name><%= @_ds_username_pje %></user-name>
        <password><%= @_ds_password_pje %></password>
        <min-pool-size><%= @_ds_minpoolsize_pje %></min-pool-size>
        <max-pool-size><%= @_ds_maxpoolsize_pje %></max-pool-size>
        <validate-on-match>true</validate-on-match>
        <valid-connection-checker-class-name>org.jboss.resource.adapter.jdbc.vendor.PostgreSQLValidConnectionChecker</valid-connection-checker-class-name>
        <metadata>
            <type-mapping>PostgreSQL 8.0</type-mapping>
        </metadata>
    </no-tx-datasource>

</datasources>
